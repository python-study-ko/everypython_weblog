{% extends 'base_blog.jinja' %}
{% from "blog/macro/PostTable.jinja" import post_list,table_head %}
{% from "blog/macro/IndexCompo.jinja" import index_jumbotron,index_panel %}

{# head title tag #}
{%- block title %}EVERYPYTHON{% endblock title %}

{# style tag #}
{%- block pagestyle %}

{%- endblock pagestyle %}

{%- block section %}
<!-- 점보트론 -->
    {% call index_jumbotron("EveryPython",hr="1") %}
        <p>(Python.productivity + me.creative) x me.crazy(?)<br>= 서비스의 재발견, 세상을 이롭게 하다</p>
    {% endcall %}
<!-- 최신글 -->
    {%- call index_panel('glyphicon-send',"최신글","가장 최근에 올라온 글입니다") -%}
        <!-- 글목록 -->
        {%- call table_head("날짜","제목","카테고리",table_class="table table-striped table-postlist") -%}
            {% for pk,date,title,category  in newposts %}
            {{ post_list(date|date('Y-m-d'),title,category,col2_link=url('blog:PostDetail',kwargs={'pk':pk})) }}
            {% endfor %}
        {%- endcall -%}
    {%- endcall %}

<!-- 인기글 -->
    {%- call index_panel('glyphicon-thumbs-up','인기글',"조회수가 가장 많은 글입니다") -%}
        {%- call table_head("조회수","제목","카테고리",table_class="table table-striped table-postlist") -%}
            {% for pk,hits,title,category  in starposts %}
            {{ post_list(hits,title,category,col2_link=url('blog:PostDetail',kwargs={'pk':pk})) }}
            {% endfor %}
        {%- endcall -%}
    {%- endcall -%}
{%- endblock section %}
{# 페이지 맨 아래에서 호출할 스크립트 #}
{%- block bodyscript -%}{% endblock %}
